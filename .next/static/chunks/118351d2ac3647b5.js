(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16973,o=>{"use strict";o.s(["brokerAPI",()=>t,"regionAPI",()=>n]);let e="https://broker-adda-be.algofolks.com/api",t={getBrokers:async(o,t,n,r)=>{let a=localStorage.getItem("adminToken");if(!a)throw Error("No authentication token found");let l=new URLSearchParams({page:o.toString(),limit:t.toString(),...n&&{approvedByAdmin:n},...r&&{search:r}}),s=await fetch("".concat(e,"/brokers?").concat(l),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});if(!s.ok)throw Error("Failed to fetch brokers");return s.json()},getBrokerById:async o=>{let t=localStorage.getItem("adminToken");if(!t)throw Error("No authentication token found");let n=await fetch("".concat(e,"/brokers/").concat(o),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(!n.ok){if(401===n.status)throw Error("Authentication failed. Please login again.");throw Error("Failed to fetch broker details: ".concat(n.status))}return n.json()},approveBroker:async o=>{console.log("游릭 brokerAPI.approveBroker called with ID:",o);let t=localStorage.getItem("adminToken");if(console.log("游릭 Token found:",t?"Yes":"No"),!t)throw Error("No authentication token found");let n="".concat(e,"/brokers/").concat(o,"/approve");console.log("游릭 Making API call to:",n),console.log("游릭 API_BASE_URL:",e);let r=await fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({})});if(console.log("游릭 Response status:",r.status),console.log("游릭 Response ok:",r.ok),!r.ok)throw console.error("游댮 API Error:",await r.text()),Error("Failed to approve broker");let a=await r.json();return console.log("游릭 API Response:",a),console.log("游릭 API Response data:",a.data),console.log("游릭 Updated broker:",a.data),a},blockBroker:async o=>{console.log("游댮 brokerAPI.blockBroker called with ID:",o);let t=localStorage.getItem("adminToken");if(console.log("游댮 Token found:",t?"Yes":"No"),!t)throw Error("No authentication token found");let n="".concat(e,"/brokers/").concat(o,"/reject");console.log("游댮 Making API call to:",n),console.log("游댮 API_BASE_URL:",e);let r=await fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({})});if(console.log("游댮 Response status:",r.status),console.log("游댮 Response ok:",r.ok),!r.ok)throw console.error("游댮 API Error:",await r.text()),Error("Failed to block broker");let a=await r.json();return console.log("游댮 API Response:",a),console.log("游댮 API Response data:",a.data),console.log("游댮 Updated broker:",a.data),a},unblockBroker:async o=>{console.log("游릭 brokerAPI.unblockBroker called with ID:",o);let t=localStorage.getItem("adminToken");if(console.log("游릭 Token found:",t?"Yes":"No"),!t)throw Error("No authentication token found");let n="".concat(e,"/brokers/").concat(o,"/approve");console.log("游릭 Making API call to:",n),console.log("游릭 API_BASE_URL:",e);let r=await fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({})});if(console.log("游릭 Response status:",r.status),console.log("游릭 Response ok:",r.ok),!r.ok)throw console.error("游댮 API Error:",await r.text()),Error("Failed to unblock broker");let a=await r.json();return console.log("游릭 API Response:",a),console.log("游릭 API Response data:",a.data),console.log("游릭 Updated broker:",a.data),a},createBroker:async(o,t,n)=>{console.log("游댯 brokerAPI.createBroker called with:",{name:o,email:t,phone:n});let r=localStorage.getItem("adminToken");if(console.log("游댯 Token found:",r?"Yes":"No"),!r)throw Error("No authentication token found");let a="".concat(e,"/auth/admin/broker"),l={adminCreate:!0,name:o,email:t,phone:n};console.log("游댯 Making API call to:",a),console.log("游댯 Request body:",l),console.log("游댯 Headers:",{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)});let s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(l)});if(console.log("游댯 Response status:",s.status),console.log("游댯 Response ok:",s.ok),!s.ok){let o=await s.text();console.error("游댮 API Error:",o);try{let e=JSON.parse(o);if(e.message)throw Error(e.message)}catch(e){throw Error(o||"Failed to create broker")}throw Error("Failed to create broker")}let c=await s.json();return console.log("游댯 API Response:",c),c}},n={getRegions:async function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";console.log("游릭 regionAPI.getRegions called with:",{page:o,limit:t,search:n,state:r,city:a});let l=localStorage.getItem("adminToken");if(console.log("游릭 Token found:",l?"Yes":"No"),!l)throw Error("No authentication token found");let s=new URLSearchParams({page:o.toString(),limit:t.toString(),...n&&{search:n},...r&&{state:r},...a&&{city:a}}),c="".concat(e,"/regions?").concat(s);console.log("游릭 Making API call to:",c);let i=await fetch(c,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)}});if(console.log("游릭 Response status:",i.status),console.log("游릭 Response ok:",i.ok),!i.ok)throw console.error("游댮 API Error:",await i.text()),Error("Failed to fetch regions");let g=await i.json();return console.log("游릭 API Response:",g),g},createRegion:async(o,t,n,r,a,l)=>{console.log("游댯 regionAPI.createRegion called with:",{name:o,description:t,state:n,city:r,centerLocation:a,radius:l});let s=localStorage.getItem("adminToken");if(console.log("游댯 Token found:",s?"Yes":"No"),!s)throw Error("No authentication token found");let c="".concat(e,"/regions"),i={name:o,description:t,state:n,city:r,centerLocation:a,radius:l};console.log("游댯 Making API call to:",c),console.log("游댯 Request body:",i),console.log("游댯 Headers:",{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)});let g=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(i)});if(console.log("游댯 Response status:",g.status),console.log("游댯 Response ok:",g.ok),!g.ok)throw console.error("游댮 API Error:",await g.text()),Error("Failed to create region");let d=await g.json();return console.log("游댯 API Response:",d),d},getBrokersByRegion:async function(o){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=localStorage.getItem("adminToken");if(!r)throw Error("No authentication token found");let a=new URLSearchParams({page:t.toString(),limit:n.toString(),regionId:o}),l=await fetch("".concat(e,"/brokers/region/").concat(o,"?").concat(a),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});if(!l.ok)throw Error("Failed to fetch brokers by region");return l.json()},deleteRegion:async o=>{console.log("游댮 regionAPI.deleteRegion called with ID:",o);let t=localStorage.getItem("adminToken");if(console.log("游댮 Token found:",t?"Yes":"No"),!t)throw Error("No authentication token found");let n="".concat(e,"/regions/").concat(o);console.log("游댮 Making API call to:",n),console.log("游댮 API_BASE_URL:",e);let r=await fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(console.log("游댮 Response status:",r.status),console.log("游댮 Response ok:",r.ok),!r.ok)throw console.error("游댮 API Error:",await r.text()),Error("Failed to delete region");let a=await r.json();return console.log("游댮 API Response:",a),a},getRegionById:async o=>{console.log("游댯 regionAPI.getRegionById called with ID:",o);let t=localStorage.getItem("adminToken");if(console.log("游댯 Token found:",t?"Yes":"No"),!t)throw Error("No authentication token found");let n="".concat(e,"/regions/").concat(o);console.log("游댯 Making API call to:",n),console.log("游댯 API_BASE_URL:",e);let r=await fetch(n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(console.log("游댯 Response status:",r.status),console.log("游댯 Response ok:",r.ok),!r.ok)throw console.error("游댮 API Error:",await r.text()),Error("Failed to fetch region details");let a=await r.json();return console.log("游댯 API Response:",a),a},updateRegion:async(o,t,n,r,a,l,s)=>{console.log("游리 regionAPI.updateRegion called with:",{regionId:o,name:t,description:n,state:r,city:a,centerLocation:l,radius:s});let c=localStorage.getItem("adminToken");if(console.log("游리 Token found:",c?"Yes":"No"),!c)throw Error("No authentication token found");let i="".concat(e,"/regions/").concat(o),g={name:t,description:n,state:r,city:a,centerLocation:l,radius:s};console.log("游리 Making API call to:",i),console.log("游리 Request body:",g),console.log("游리 Headers:",{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)});let d=await fetch(i,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(g)});if(console.log("游리 Response status:",d.status),console.log("游리 Response ok:",d.ok),!d.ok)throw console.error("游댮 API Error:",await d.text()),Error("Failed to update region");let h=await d.json();return console.log("游리 API Response:",h),h},getRegionStats:async()=>{console.log("游늵 regionAPI.getRegionStats called");let o=localStorage.getItem("adminToken");if(console.log("游늵 Token found:",o?"Yes":"No"),!o)throw Error("No authentication token found");let t="".concat(e,"/regions/stats");console.log("游늵 Making API call to:",t);let n=await fetch(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}});if(console.log("游늵 Response status:",n.status),console.log("游늵 Response ok:",n.ok),!n.ok)throw console.error("游댮 API Error:",await n.text()),Error("Failed to fetch region statistics");let r=await n.json();return console.log("游늵 API Response:",r),r}}}]);