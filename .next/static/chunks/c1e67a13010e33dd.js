(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,o)=>{t.exports=e.r(76562)},57951,e=>{"use strict";e.s(["AuthProvider",()=>c,"useAuth",()=>a]);var t=e.i(43476),o=e.i(71645),r=e.i(18566);let n=(0,o.createContext)(void 0),a=()=>{let e=(0,o.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},c=e=>{let{children:a}=e,[c,i]=(0,o.useState)(!1),[u,s]=(0,o.useState)(!0),[l,m]=(0,o.useState)(null),h=(0,r.useRouter)();return(0,o.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("adminToken");e?(m(e),i(!0),document.cookie="adminToken=".concat(e,"; path=/; max-age=").concat(604800,"; secure; samesite=strict")):i(!1)}catch(e){console.error("Error checking authentication:",e),i(!1)}finally{s(!1)}})()},[]),(0,t.jsx)(n.Provider,{value:{isAuthenticated:c,isLoading:u,token:l,login:e=>{try{localStorage.setItem("adminToken",e),m(e),i(!0),document.cookie="adminToken=".concat(e,"; path=/; max-age=").concat(604800,"; secure; samesite=strict")}catch(e){console.error("Error saving token:",e)}},logout:()=>{try{localStorage.removeItem("adminToken"),m(null),i(!1),document.cookie="adminToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",h.push("/login")}catch(e){console.error("Error removing token:",e)}}},children:a})}}]);