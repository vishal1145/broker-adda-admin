(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16973,e=>{"use strict";e.s(["brokerAPI",()=>r,"regionAPI",()=>o]);let t="https://broker-adda-be.algofolks.com/api",r={getBrokers:async(e,r,o,a)=>{let s=localStorage.getItem("adminToken");if(!s)throw Error("No authentication token found");let n=new URLSearchParams({page:e.toString(),limit:r.toString(),...o&&{approvedByAdmin:o},...a&&{search:a}}),i=await fetch("".concat(t,"/brokers?").concat(n),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});if(!i.ok)throw Error("Failed to fetch brokers");return i.json()},getBrokerById:async e=>{let r=localStorage.getItem("adminToken");if(!r)throw Error("No authentication token found");let o=await fetch("".concat(t,"/brokers/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});if(!o.ok){if(401===o.status)throw Error("Authentication failed. Please login again.");throw Error("Failed to fetch broker details: ".concat(o.status))}return o.json()},approveBroker:async e=>{console.log("🟢 brokerAPI.approveBroker called with ID:",e);let r=localStorage.getItem("adminToken");if(console.log("🟢 Token found:",r?"Yes":"No"),!r)throw Error("No authentication token found");let o="".concat(t,"/brokers/").concat(e,"/approve");console.log("🟢 Making API call to:",o),console.log("🟢 API_BASE_URL:",t);let a=await fetch(o,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({})});if(console.log("🟢 Response status:",a.status),console.log("🟢 Response ok:",a.ok),!a.ok)throw console.error("🔴 API Error:",await a.text()),Error("Failed to approve broker");let s=await a.json();return console.log("🟢 API Response:",s),console.log("🟢 API Response data:",s.data),console.log("🟢 Updated broker:",s.data),s},blockBroker:async e=>{console.log("🔴 brokerAPI.blockBroker called with ID:",e);let r=localStorage.getItem("adminToken");if(console.log("🔴 Token found:",r?"Yes":"No"),!r)throw Error("No authentication token found");let o="".concat(t,"/brokers/").concat(e,"/reject");console.log("🔴 Making API call to:",o),console.log("🔴 API_BASE_URL:",t);let a=await fetch(o,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({})});if(console.log("🔴 Response status:",a.status),console.log("🔴 Response ok:",a.ok),!a.ok)throw console.error("🔴 API Error:",await a.text()),Error("Failed to block broker");let s=await a.json();return console.log("🔴 API Response:",s),console.log("🔴 API Response data:",s.data),console.log("🔴 Updated broker:",s.data),s},unblockBroker:async e=>{console.log("🟢 brokerAPI.unblockBroker called with ID:",e);let r=localStorage.getItem("adminToken");if(console.log("🟢 Token found:",r?"Yes":"No"),!r)throw Error("No authentication token found");let o="".concat(t,"/brokers/").concat(e,"/approve");console.log("🟢 Making API call to:",o),console.log("🟢 API_BASE_URL:",t);let a=await fetch(o,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({})});if(console.log("🟢 Response status:",a.status),console.log("🟢 Response ok:",a.ok),!a.ok)throw console.error("🔴 API Error:",await a.text()),Error("Failed to unblock broker");let s=await a.json();return console.log("🟢 API Response:",s),console.log("🟢 API Response data:",s.data),console.log("🟢 Updated broker:",s.data),s},createBroker:async(e,r,o)=>{console.log("🔵 brokerAPI.createBroker called with:",{name:e,email:r,phone:o});let a=localStorage.getItem("adminToken");if(console.log("🔵 Token found:",a?"Yes":"No"),!a)throw Error("No authentication token found");let s="".concat(t,"/auth/admin/broker"),n={adminCreate:!0,name:e,email:r,phone:o};console.log("🔵 Making API call to:",s),console.log("🔵 Request body:",n),console.log("🔵 Headers:",{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)});let i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});if(console.log("🔵 Response status:",i.status),console.log("🔵 Response ok:",i.ok),!i.ok){let e=await i.text();console.error("🔴 API Error:",e);try{let t=JSON.parse(e);if(t.message)throw Error(t.message)}catch(t){throw Error(e||"Failed to create broker")}throw Error("Failed to create broker")}let l=await i.json();return console.log("🔵 API Response:",l),l}},o={getRegions:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";console.log("🟢 regionAPI.getRegions called with:",{page:e,limit:r,search:o,state:a,city:s});let n=localStorage.getItem("adminToken");if(console.log("🟢 Token found:",n?"Yes":"No"),!n)throw Error("No authentication token found");let i=new URLSearchParams({page:e.toString(),limit:r.toString(),...o&&{search:o},...a&&{state:a},...s&&{city:s}}),l="".concat(t,"/regions?").concat(i);console.log("🟢 Making API call to:",l);let c=await fetch(l,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});if(console.log("🟢 Response status:",c.status),console.log("🟢 Response ok:",c.ok),!c.ok)throw console.error("🔴 API Error:",await c.text()),Error("Failed to fetch regions");let d=await c.json();return console.log("🟢 API Response:",d),d},createRegion:async(e,r,o,a,s,n)=>{console.log("🔵 regionAPI.createRegion called with:",{name:e,description:r,state:o,city:a,centerLocation:s,radius:n});let i=localStorage.getItem("adminToken");if(console.log("🔵 Token found:",i?"Yes":"No"),!i)throw Error("No authentication token found");let l="".concat(t,"/regions"),c={name:e,description:r,state:o,city:a,centerLocation:s,radius:n};console.log("🔵 Making API call to:",l),console.log("🔵 Request body:",c),console.log("🔵 Headers:",{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)});let d=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify(c)});if(console.log("🔵 Response status:",d.status),console.log("🔵 Response ok:",d.ok),!d.ok)throw console.error("🔴 API Error:",await d.text()),Error("Failed to create region");let g=await d.json();return console.log("🔵 API Response:",g),g},getBrokersByRegion:async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=localStorage.getItem("adminToken");if(!a)throw Error("No authentication token found");let s=new URLSearchParams({page:r.toString(),limit:o.toString(),regionId:e}),n=await fetch("".concat(t,"/brokers/region/").concat(e,"?").concat(s),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});if(!n.ok)throw Error("Failed to fetch brokers by region");return n.json()},deleteRegion:async e=>{console.log("🔴 regionAPI.deleteRegion called with ID:",e);let r=localStorage.getItem("adminToken");if(console.log("🔴 Token found:",r?"Yes":"No"),!r)throw Error("No authentication token found");let o="".concat(t,"/regions/").concat(e);console.log("🔴 Making API call to:",o),console.log("🔴 API_BASE_URL:",t);let a=await fetch(o,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});if(console.log("🔴 Response status:",a.status),console.log("🔴 Response ok:",a.ok),!a.ok)throw console.error("🔴 API Error:",await a.text()),Error("Failed to delete region");let s=await a.json();return console.log("🔴 API Response:",s),s},getRegionById:async e=>{console.log("🔵 regionAPI.getRegionById called with ID:",e);let r=localStorage.getItem("adminToken");if(console.log("🔵 Token found:",r?"Yes":"No"),!r)throw Error("No authentication token found");let o="".concat(t,"/regions/").concat(e);console.log("🔵 Making API call to:",o),console.log("🔵 API_BASE_URL:",t);let a=await fetch(o,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});if(console.log("🔵 Response status:",a.status),console.log("🔵 Response ok:",a.ok),!a.ok)throw console.error("🔴 API Error:",await a.text()),Error("Failed to fetch region details");let s=await a.json();return console.log("🔵 API Response:",s),s},updateRegion:async(e,r,o,a,s,n,i)=>{console.log("🟡 regionAPI.updateRegion called with:",{regionId:e,name:r,description:o,state:a,city:s,centerLocation:n,radius:i});let l=localStorage.getItem("adminToken");if(console.log("🟡 Token found:",l?"Yes":"No"),!l)throw Error("No authentication token found");let c="".concat(t,"/regions/").concat(e),d={name:r,description:o,state:a,city:s,centerLocation:n,radius:i};console.log("🟡 Making API call to:",c),console.log("🟡 Request body:",d),console.log("🟡 Headers:",{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)});let g=await fetch(c,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},body:JSON.stringify(d)});if(console.log("🟡 Response status:",g.status),console.log("🟡 Response ok:",g.ok),!g.ok)throw console.error("🔴 API Error:",await g.text()),Error("Failed to update region");let u=await g.json();return console.log("🟡 API Response:",u),u},getRegionStats:async()=>{console.log("📊 regionAPI.getRegionStats called");let e=localStorage.getItem("adminToken");if(console.log("📊 Token found:",e?"Yes":"No"),!e)throw Error("No authentication token found");let r="".concat(t,"/regions/stats");console.log("📊 Making API call to:",r);let o=await fetch(r,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(console.log("📊 Response status:",o.status),console.log("📊 Response ok:",o.ok),!o.ok)throw console.error("🔴 API Error:",await o.text()),Error("Failed to fetch region statistics");let a=await o.json();return console.log("📊 API Response:",a),a}}},87590,(e,t,r)=>{let o;e.e,o=e.r(71645),t.exports=(()=>{var e={703:(e,t,r)=>{"use strict";var o=r(414);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,s,n){if(n!==o){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return r.PropTypes=r,r}},697:(e,t,r)=>{e.exports=r(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:e=>{"use strict";e.exports=o}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";r.r(a),r.d(a,{default:()=>b});var e=r(98),t=r.n(e),o=r(697),s=r.n(o);function n(){return(n=Object.assign.bind()).apply(this,arguments)}var i=function(e){var r=e.pageClassName,o=e.pageLinkClassName,a=e.page,s=e.selected,i=e.activeClassName,l=e.activeLinkClassName,c=e.getEventListener,d=e.pageSelectedHandler,g=e.href,u=e.extraAriaContext,h=e.pageLabelBuilder,p=e.rel,m=e.ariaLabel||"Page "+a+(u?" "+u:""),x=null;return s&&(x="page",m=e.ariaLabel||"Page "+a+" is your current page",r=void 0!==r?r+" "+i:i,void 0!==o?void 0!==l&&(o=o+" "+l):o=l),t().createElement("li",{className:r},t().createElement("a",n({rel:p,role:g?void 0:"button",className:o,href:g,tabIndex:s?"-1":"0","aria-label":m,"aria-current":x,onKeyPress:d},c(d)),h(a)))};function l(){return(l=Object.assign.bind()).apply(this,arguments)}i.propTypes={pageSelectedHandler:s().func.isRequired,selected:s().bool.isRequired,pageClassName:s().string,pageLinkClassName:s().string,activeClassName:s().string,activeLinkClassName:s().string,extraAriaContext:s().string,href:s().string,ariaLabel:s().string,page:s().number.isRequired,getEventListener:s().func.isRequired,pageLabelBuilder:s().func.isRequired,rel:s().string};var c=function(e){var r=e.breakLabel,o=e.breakAriaLabel,a=e.breakClassName,s=e.breakLinkClassName,n=e.breakHandler,i=e.getEventListener;return t().createElement("li",{className:a||"break"},t().createElement("a",l({className:s,role:"button",tabIndex:"0","aria-label":o,onKeyPress:n},i(n)),r))};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!=e?e:t}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign.bind()).apply(this,arguments)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}c.propTypes={breakLabel:s().oneOfType([s().string,s().node]),breakAriaLabel:s().string,breakClassName:s().string,breakLinkClassName:s().string,breakHandler:s().func.isRequired,getEventListener:s().func.isRequired};var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&h(s,e);var r,o,a=(o=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=m(s);if(e=o?Reflect.construct(t,arguments,m(this).constructor):t.apply(this,arguments),e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return p(this)});function s(e){var r;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),x(p(r=a.call(this,e)),"handlePreviousPage",function(e){var t=r.state.selected;r.handleClick(e,null,t>0?t-1:void 0,{isPrevious:!0})}),x(p(r),"handleNextPage",function(e){var t=r.state.selected,o=r.props.pageCount;r.handleClick(e,null,t<o-1?t+1:void 0,{isNext:!0})}),x(p(r),"handlePageSelected",function(e,t){if(r.state.selected===e)return r.callActiveCallback(e),void r.handleClick(t,null,void 0,{isActive:!0});r.handleClick(t,null,e)}),x(p(r),"handlePageChange",function(e){r.state.selected!==e&&(r.setState({selected:e}),r.callCallback(e))}),x(p(r),"getEventListener",function(e){return x({},r.props.eventListener,e)}),x(p(r),"handleClick",function(e,t,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.isPrevious,n=a.isNext,i=a.isBreak,l=a.isActive;e.preventDefault?e.preventDefault():e.returnValue=!1;var c=r.state.selected,d=r.props.onClick,g=o;if(d){var u=d({index:t,selected:c,nextSelectedPage:o,event:e,isPrevious:void 0!==s&&s,isNext:void 0!==n&&n,isBreak:void 0!==i&&i,isActive:void 0!==l&&l});if(!1===u)return;Number.isInteger(u)&&(g=u)}void 0!==g&&r.handlePageChange(g)}),x(p(r),"handleBreakClick",function(e,t){var o=r.state.selected;r.handleClick(t,e,o<e?r.getForwardJump():r.getBackwardJump(),{isBreak:!0})}),x(p(r),"callCallback",function(e){void 0!==r.props.onPageChange&&"function"==typeof r.props.onPageChange&&r.props.onPageChange({selected:e})}),x(p(r),"callActiveCallback",function(e){void 0!==r.props.onPageActive&&"function"==typeof r.props.onPageActive&&r.props.onPageActive({selected:e})}),x(p(r),"getElementPageRel",function(e){var t=r.state.selected,o=r.props,a=o.nextPageRel,s=o.prevPageRel,n=o.selectedPageRel;return t-1===e?s:t===e?n:t+1===e?a:void 0}),x(p(r),"pagination",function(){var e=[],o=r.props,a=o.pageRangeDisplayed,s=o.pageCount,n=o.marginPagesDisplayed,i=o.breakLabel,l=o.breakClassName,d=o.breakLinkClassName,g=o.breakAriaLabels,u=r.state.selected;if(s<=a)for(var h=0;h<s;h++)e.push(r.getPageElement(h));else{var p=a/2,m=a-p;u>s-a/2?p=a-(m=s-u):u<a/2&&(m=a-(p=u));var x,f,b=function(e){return r.getPageElement(e)},v=[];for(x=0;x<s;x++){var k=x+1;if(k<=n)v.push({type:"page",index:x,display:b(x)});else if(k>s-n)v.push({type:"page",index:x,display:b(x)});else if(x>=u-p&&x<=u+(0===u&&a>1?m-1:m))v.push({type:"page",index:x,display:b(x)});else if(i&&v.length>0&&v[v.length-1].display!==f&&(a>0||n>0)){var y=x<u?g.backward:g.forward;f=t().createElement(c,{key:x,breakAriaLabel:y,breakLabel:i,breakClassName:l,breakLinkClassName:d,breakHandler:r.handleBreakClick.bind(null,x),getEventListener:r.getEventListener}),v.push({type:"break",index:x,display:f})}}v.forEach(function(t,r){var o=t;"break"===t.type&&v[r-1]&&"page"===v[r-1].type&&v[r+1]&&"page"===v[r+1].type&&v[r+1].index-v[r-1].index<=2&&(o={type:"page",index:t.index,display:b(t.index)}),e.push(o.display)})}return e}),void 0!==e.initialPage&&void 0!==e.forcePage&&console.warn("(react-paginate): Both initialPage (".concat(e.initialPage,") and forcePage (").concat(e.forcePage,") props are provided, which is discouraged.")+" Use exclusively forcePage prop for a controlled component.\nSee https://reactjs.org/docs/forms.html#controlled-components"),r.state={selected:e.initialPage?e.initialPage:e.forcePage?e.forcePage:0},r}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,r=e.disableInitialCallback,o=e.extraAriaContext,a=e.pageCount,s=e.forcePage;void 0===t||r||this.callCallback(t),o&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(a)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(a,"). Did you forget a Math.ceil()?")),void 0!==t&&t>a-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(t," > ").concat(a-1,").")),void 0!==s&&s>a-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(s," > ").concat(a-1,")."))}},{key:"componentDidUpdate",value:function(e){void 0!==this.props.forcePage&&this.props.forcePage!==e.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(e.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var e=this.state.selected,t=this.props,r=t.pageCount,o=e+t.pageRangeDisplayed;return o>=r?r-1:o}},{key:"getBackwardJump",value:function(){var e=this.state.selected-this.props.pageRangeDisplayed;return e<0?0:e}},{key:"getElementHref",value:function(e){var t=this.props,r=t.hrefBuilder,o=t.pageCount,a=t.hrefAllControls;if(r)return a||e>=0&&e<o?r(e+1,o,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(e){var t=e===this.state.selected;if(this.props.ariaLabelBuilder&&e>=0&&e<this.props.pageCount){var r=this.props.ariaLabelBuilder(e+1,t);return this.props.extraAriaContext&&!t&&(r=r+" "+this.props.extraAriaContext),r}}},{key:"getPageElement",value:function(e){var r=this.state.selected,o=this.props,a=o.pageClassName,s=o.pageLinkClassName,n=o.activeClassName,l=o.activeLinkClassName,c=o.extraAriaContext,d=o.pageLabelBuilder;return t().createElement(i,{key:e,pageSelectedHandler:this.handlePageSelected.bind(null,e),selected:r===e,rel:this.getElementPageRel(e),pageClassName:a,pageLinkClassName:s,activeClassName:n,activeLinkClassName:l,extraAriaContext:c,href:this.getElementHref(e),ariaLabel:this.ariaLabelBuilder(e),page:e+1,pageLabelBuilder:d,getEventListener:this.getEventListener})}},{key:"render",value:function(){var e=this.props.renderOnZeroPageCount;if(0===this.props.pageCount&&void 0!==e)return e?e(this.props):e;var r=this.props,o=r.disabledClassName,a=r.disabledLinkClassName,s=r.pageCount,n=r.className,i=r.containerClassName,l=r.previousLabel,c=r.previousClassName,g=r.previousLinkClassName,h=r.previousAriaLabel,p=r.prevRel,m=r.nextLabel,x=r.nextClassName,f=r.nextLinkClassName,b=r.nextAriaLabel,v=r.nextRel,k=this.state.selected,y=0===k,j=k===s-1,w="".concat(d(c)).concat(y?" ".concat(d(o)):""),N="".concat(d(x)).concat(j?" ".concat(d(o)):""),C="".concat(d(g)).concat(y?" ".concat(d(a)):""),P="".concat(d(f)).concat(j?" ".concat(d(a)):"");return t().createElement("ul",{className:n||i,role:"navigation","aria-label":"Pagination"},t().createElement("li",{className:w},t().createElement("a",u({className:C,href:this.getElementHref(k-1),tabIndex:y?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":y?"true":"false","aria-label":h,rel:p},this.getEventListener(this.handlePreviousPage)),l)),this.pagination(),t().createElement("li",{className:N},t().createElement("a",u({className:P,href:this.getElementHref(k+1),tabIndex:j?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":j?"true":"false","aria-label":b,rel:v},this.getEventListener(this.handleNextPage)),m)))}}],function(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(s.prototype,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(e.Component);x(f,"propTypes",{pageCount:s().number.isRequired,pageRangeDisplayed:s().number,marginPagesDisplayed:s().number,previousLabel:s().node,previousAriaLabel:s().string,prevPageRel:s().string,prevRel:s().string,nextLabel:s().node,nextAriaLabel:s().string,nextPageRel:s().string,nextRel:s().string,breakLabel:s().oneOfType([s().string,s().node]),breakAriaLabels:s().shape({forward:s().string,backward:s().string}),hrefBuilder:s().func,hrefAllControls:s().bool,onPageChange:s().func,onPageActive:s().func,onClick:s().func,initialPage:s().number,forcePage:s().number,disableInitialCallback:s().bool,containerClassName:s().string,className:s().string,pageClassName:s().string,pageLinkClassName:s().string,pageLabelBuilder:s().func,activeClassName:s().string,activeLinkClassName:s().string,previousClassName:s().string,nextClassName:s().string,previousLinkClassName:s().string,nextLinkClassName:s().string,disabledClassName:s().string,disabledLinkClassName:s().string,breakClassName:s().string,breakLinkClassName:s().string,extraAriaContext:s().string,ariaLabelBuilder:s().func,eventListener:s().string,renderOnZeroPageCount:s().func,selectedPageRel:s().string}),x(f,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(e){return e},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});let b=f})(),a})()},85775,e=>{"use strict";e.s(["default",()=>h]);var t=e.i(43476),r=e.i(71645),o=e.i(22016),a=e.i(57688),s=e.i(42252),n=e.i(11870),i=e.i(16973),l=e.i(87590),c=e.i(5766);let d=e=>{let{className:r="",height:o="h-4",width:a="w-full",rounded:s=!1}=e;return(0,t.jsx)("div",{className:"bg-gray-200 animate-pulse ".concat(o," ").concat(a," ").concat(s?"rounded-full":"rounded"," ").concat(r)})},g=()=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[(0,t.jsx)(d,{height:"h-4",width:"w-16"}),(0,t.jsx)(d,{height:"h-4",width:"w-20"}),(0,t.jsx)(d,{height:"h-4",width:"w-16"}),(0,t.jsx)(d,{height:"h-4",width:"w-24"}),(0,t.jsx)(d,{height:"h-4",width:"w-20"}),(0,t.jsx)(d,{height:"h-4",width:"w-16"})]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-200",children:Array.from({length:5}).map((e,r)=>(0,t.jsx)("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-4 items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(d,{height:"h-10",width:"w-10",rounded:!0}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d,{height:"h-4",width:"w-24"}),(0,t.jsx)(d,{height:"h-3",width:"w-32"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d,{height:"h-4",width:"w-4"}),(0,t.jsx)(d,{height:"h-4",width:"w-20"}),(0,t.jsx)(d,{height:"h-3",width:"w-3"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d,{height:"h-4",width:"w-4"}),(0,t.jsx)(d,{height:"h-3",width:"w-28"}),(0,t.jsx)(d,{height:"h-3",width:"w-3"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d,{height:"h-4",width:"w-20"}),(0,t.jsx)(d,{height:"h-3",width:"w-24"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(d,{height:"h-6",width:"w-16",rounded:!0})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(d,{height:"h-4",width:"w-16"}),(0,t.jsx)(d,{height:"h-3",width:"w-20"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(d,{height:"h-7",width:"w-16",rounded:!0}),(0,t.jsx)(d,{height:"h-7",width:"w-16",rounded:!0})]})]})},r))})]}),u=()=>(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:Array.from({length:5}).map((e,r)=>(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d,{height:"h-3",width:"w-16"}),(0,t.jsx)(d,{height:"h-6",width:"w-8"})]}),(0,t.jsx)("div",{className:"bg-gray-100 rounded-lg p-2",children:(0,t.jsx)(d,{height:"h-5",width:"w-5"})})]})},r))});function h(){let[e,d]=(0,r.useState)([]),[h,p]=(0,r.useState)(!0),[m,x]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[v,k]=(0,r.useState)("all"),[y,j]=(0,r.useState)("all"),[w,N]=(0,r.useState)("all"),[C,P]=(0,r.useState)(1),[A,L]=(0,r.useState)(1),[B,R]=(0,r.useState)(0),[E,I]=(0,r.useState)({total:0,unblocked:0,blocked:0}),[S,T]=(0,r.useState)(!1),[M,O]=(0,r.useState)(!1),[z,_]=(0,r.useState)(null),[U,D]=(0,r.useState)(""),[F,H]=(0,r.useState)(!1),[W,J]=(0,r.useState)(!1),[q,Y]=(0,r.useState)({name:"",email:"",phone:""}),K=(0,r.useCallback)(async()=>{try{p(!0),x(""),console.log("🔄 Fetching brokers with statusFilter:",v,"searchTerm:",f);let e="unblocked"===v?"unblocked":"blocked"===v?"blocked":void 0,t=await i.brokerAPI.getBrokers(C,10,e,f);console.log("📊 API Response:",t),console.log("📊 Brokers data:",t.data.brokers),t.data.brokers&&t.data.brokers.forEach((e,t)=>{console.log("📊 Broker ".concat(t+1,":"),{_id:e._id,name:e.name,approvedByAdmin:e.approvedByAdmin,type:typeof e.approvedByAdmin})});let r=(t.data.brokers||[]).map((e,t)=>({...e,membership:e.membership||["basic","standard","premium"][t%3]}));d(r),L(t.data.pagination.totalPages||1),R(t.data.pagination.totalBrokers||0),t.data.stats&&I({total:t.data.stats.totalAllBrokers||0,unblocked:t.data.stats.totalUnblockedBrokers||0,blocked:t.data.stats.totalBlockedBrokers||0})}catch(e){x(e instanceof Error?e.message:"Failed to fetch brokers")}finally{p(!1)}},[C,v,f]),V=(e,t)=>{_(e),D(t),T(!0)},Z=async()=>{if(z)try{x(""),console.log("🔴 Blocking broker with ID:",z);let e=await i.brokerAPI.blockBroker(z);console.log("🔴 Block API response:",e),d(e=>e.map(e=>e._id===z?{...e,approvedByAdmin:"blocked"}:e)),I(e=>({...e,unblocked:e.unblocked-1,blocked:e.blocked+1})),await K(),T(!1),_(null),D("")}catch(e){console.error("🔴 Block error:",e),x(e instanceof Error?e.message:"Failed to block broker")}},$=async()=>{if(z)try{x(""),console.log("🟢 Unblocking broker with ID:",z);let e=await i.brokerAPI.unblockBroker(z);console.log("🟢 Unblock API response:",e),d(e=>e.map(e=>e._id===z?{...e,approvedByAdmin:"unblocked"}:e)),I(e=>({...e,unblocked:e.unblocked+1,blocked:e.blocked-1})),await K(),O(!1),_(null),D("")}catch(e){console.error("🟢 Unblock error:",e),x(e instanceof Error?e.message:"Failed to unblock broker")}},G=e.filter(e=>{let t="all"===y||e.membership&&e.membership.toLowerCase()===y.toLowerCase(),r="all"===w||e.region&&e.region.length>0&&e.region[0].name.toLowerCase().includes(w.toLowerCase());return t&&r});return(0,r.useEffect)(()=>{K()},[K]),(0,r.useEffect)(()=>{H(!0);let e=setTimeout(()=>{P(1),K(),H(!1)},500);return()=>{clearTimeout(e),H(!1)}},[f,v,y,w,K]),(0,t.jsx)(n.default,{children:(0,t.jsx)(s.default,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Brokers"}),(0,t.jsxs)("button",{onClick:()=>J(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-md text-white bg-teal-600 hover:bg-teal-700 text-sm shadow-sm",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Broker"]})]}),(0,t.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"View and manage all registered brokers"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 mb-6",children:[(0,t.jsx)("div",{className:"flex-1 max-w-md",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:F?(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,t.jsx)("input",{type:"text",placeholder:"Search by Firm Name, Contact, Region",value:f,onChange:e=>b(e.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500"})]})}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:v,onChange:e=>k(e.target.value),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 appearance-none pr-8",children:[(0,t.jsx)("option",{value:"all",children:"All Brokers"}),(0,t.jsx)("option",{value:"unblocked",children:"Unblocked"}),(0,t.jsx)("option",{value:"blocked",children:"Blocked"})]}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:y,onChange:e=>j(e.target.value),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 appearance-none pr-8",children:[(0,t.jsx)("option",{value:"all",children:"All Membership"}),(0,t.jsx)("option",{value:"premium",children:"Premium"}),(0,t.jsx)("option",{value:"standard",children:"Standard"}),(0,t.jsx)("option",{value:"basic",children:"Basic"})]}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 appearance-none pr-8",children:[(0,t.jsx)("option",{value:"all",children:"All Regions"}),(0,t.jsx)("option",{value:"mumbai",children:"Mumbai"}),(0,t.jsx)("option",{value:"delhi",children:"Delhi"}),(0,t.jsx)("option",{value:"bangalore",children:"Bangalore"}),(0,t.jsx)("option",{value:"hyderabad",children:"Hyderabad"}),(0,t.jsx)("option",{value:"pune",children:"Pune"}),(0,t.jsx)("option",{value:"agra",children:"Agra"}),(0,t.jsx)("option",{value:"noida",children:"Noida"}),(0,t.jsx)("option",{value:"lucknow",children:"Lucknow"}),(0,t.jsx)("option",{value:"chennai",children:"Chennai"})]}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(f||"all"!==v||"all"!==y||"all"!==w)&&(0,t.jsxs)("button",{onClick:()=>{b(""),k("all"),j("all"),N("all")},className:"inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 hover:border-red-300 transition-colors",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,t.jsx)("span",{children:"Clear Filters"})]})]})]}),m&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m}),h?(0,t.jsx)(u,{}):(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[(0,t.jsx)("div",{className:"bg-teal-50 rounded-lg p-6 border border-teal-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-teal-600 text-xs font-medium",children:"Total Brokers"}),(0,t.jsx)("p",{className:"text-xl font-bold text-teal-700",children:E.total})]}),(0,t.jsx)("div",{className:"bg-teal-100 rounded-lg p-2",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),(0,t.jsx)("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-green-600 text-xs font-medium",children:"Unblocked"}),(0,t.jsx)("p",{className:"text-xl font-bold text-green-700",children:E.unblocked})]}),(0,t.jsx)("div",{className:"bg-green-100 rounded-lg p-2",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,t.jsx)("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-red-600 text-xs font-medium",children:"Blocked"}),(0,t.jsx)("p",{className:"text-xl font-bold text-red-600",children:E.blocked})]}),(0,t.jsx)("div",{className:"bg-red-100 rounded-lg p-2",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zM5 19L19 5"})})})]})})]}),W&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>J(!1)}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-lg mx-4 rounded-xl border border-gray-200 shadow-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Broker"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,t.jsx)("input",{value:q.name,onChange:e=>Y({...q,name:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-teal-500",placeholder:"Enter name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",value:q.email,onChange:e=>Y({...q,email:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-teal-500",placeholder:"Enter email"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700  mb-1",children:"Phone"}),(0,t.jsx)("input",{value:q.phone,onChange:e=>Y({...q,phone:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-teal-500",placeholder:"Enter phone"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-2",children:[(0,t.jsx)("button",{onClick:()=>J(!1),className:"px-5 py-2 rounded-md border bg-gray-200 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:async()=>{try{if(x(""),console.log("Creating broker:",q),!q.name.trim()||!q.email.trim()||!q.phone.trim()){x("Please fill in all fields"),c.toast.error("Please fill in all fields");return}let t=q.phone.replace(/\D/g,"");if(!/^\d{10}$/.test(t))return void c.toast.error("Phone must be exactly 10 digits");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(q.email.trim()))return void c.toast.error("Please enter a valid email");if(e.some(e=>(e.phone||"").replace(/\D/g,"")===t))return void c.toast.error("Phone already exists");if(e.some(e=>(e.email||"").toLowerCase()===q.email.trim().toLowerCase()))return void c.toast.error("Email already exists");let r=await i.brokerAPI.createBroker(q.name.trim(),q.email.trim(),q.phone.trim());console.log("Broker created successfully:",r),c.toast.success("Broker created successfully"),J(!1),Y({name:"",email:"",phone:""}),await K()}catch(t){console.error("Error creating broker:",t);let e="Failed to create broker";if(t instanceof Error){let r=t.message.toLowerCase();e=r.includes("phone")&&r.includes("already")&&r.includes("registered")?"Phone already exists":r.includes("email")&&r.includes("already")&&r.includes("registered")?"Email already exists":t.message}x(e),c.toast.error(e)}},className:"px-5 py-2 rounded-md  text-white bg-teal-600 hover:bg-teal-700",children:"Create"})]})]})]})]}),h?(0,t.jsx)(g,{}):(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:0===G.length?(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No brokers found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-4 text-xs font-semibold text-gray-600 uppercase tracking-wide",children:[(0,t.jsx)("div",{children:"Name"}),(0,t.jsx)("div",{children:"Contact"}),(0,t.jsx)("div",{children:"Region"}),(0,t.jsx)("div",{children:"Membership"}),(0,t.jsx)("div",{children:"Numbers"}),(0,t.jsx)("div",{children:"Action"})]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-200",children:G.map((e,r)=>{let s=((e,t)=>{let r=[{leads:4,properties:2,membership:"Premium"},{leads:8,properties:5,membership:"Premium"},{leads:3,properties:7,membership:"Standard"},{leads:9,properties:1,membership:"Premium"},{leads:6,properties:4,membership:"Standard"},{leads:2,properties:8,membership:"Premium"},{leads:7,properties:3,membership:"Standard"}];return r[t%r.length]})(0,r);return(0,t.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-4 items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(o.default,{href:"/brokers/".concat(e.userId),className:"cursor-pointer",children:(0,t.jsx)(a.default,{className:"h-10 w-10 rounded-full object-cover hover:opacity-80 transition-opacity",src:(e=>{if(console.log("🖼️ getBrokerImageUrl called with:",e),!e)return console.log("🖼️ No broker image, using fallback"),"https://www.w3schools.com/howto/img_avatar.png";if(e.includes("broker-adda-be.algofolks.com")||e.includes("https://")||e.includes("http://")&&!e.includes("localhost")){let t="/api/image-proxy?url=".concat(encodeURIComponent(e));return console.log("🖼️ Using proxy URL:",t),t}return console.log("🖼️ Using direct URL:",e),e})(e.brokerImage),alt:e.name||"Broker",width:40,height:40})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.default,{href:"/brokers/".concat(e.userId),className:"text-sm font-semibold text-gray-900 hover:text-teal-600 transition-colors cursor-pointer capitalize",children:e.name||"N/A"}),(0,t.jsx)("div",{className:"text-gray-500 text-xs capitalize",children:e.firmName||"N/A"})]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-900",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-700 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:e.phone||"N/A"}),e.phone&&(0,t.jsx)("svg",{className:"w-3 h-3 text-teal-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-700 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,t.jsx)("span",{className:"text-gray-500 text-xs truncate",children:e.email||"N/A"}),e.email&&(0,t.jsx)("svg",{className:"w-3 h-3 text-teal-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})]}),(0,t.jsx)("div",{className:"text-sm text-gray-900",children:e.region&&e.region.length>0?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:e.region[0].name}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:[e.region[0].city,", ",e.region[0].state]})]}):"N/A"}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("premium"===e.membership||"standard"===e.membership?"bg-teal-100 text-teal-800":(e.membership,"bg-gray-100 text-gray-800")),children:e.membership?e.membership.charAt(0).toUpperCase()+e.membership.slice(1):"N/A"})}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("div",{className:"capitalize text-gray-500",children:[s.leads," leads"]}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs capitalize",children:[s.properties," properties"]})]}),(0,t.jsx)("div",{children:"unblocked"===e.approvedByAdmin?(0,t.jsxs)("button",{onClick:()=>V(e._id,e.name||"Broker"),className:"inline-flex items-center space-x-1 px-3 py-1.5 rounded text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors text-sm",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zM5 19L19 5"})}),(0,t.jsx)("span",{children:"Block"})]}):"blocked"===e.approvedByAdmin?(0,t.jsxs)("button",{onClick:()=>{var t,r;return t=e._id,r=e.name||"Broker",void(_(t),D(r),O(!0))},className:"inline-flex items-center space-x-1 px-3 py-1.5 rounded text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors text-sm",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{children:"Unblock"})]}):(0,t.jsxs)("button",{onClick:()=>V(e._id,e.name||"Broker"),className:"inline-flex items-center space-x-1 px-3 py-1.5 rounded text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors text-sm",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zM5 19L19 5"})}),(0,t.jsx)("span",{children:"Block"})]})})]})},e._id)})})]})}),B>0&&(0,t.jsx)("div",{className:"bg-white px-6 py-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center text-sm text-gray-700",children:(0,t.jsxs)("span",{children:["Showing ",(C-1)*10+1," to ",Math.min(10*C,B)," of ",B," results"]})}),(0,t.jsx)(l.default,{pageCount:A,pageRangeDisplayed:3,marginPagesDisplayed:1,onPageChange:e=>{let{selected:t}=e;return P(t+1)},forcePage:C-1,previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",containerClassName:"flex items-center space-x-1",pageClassName:"px-3 py-2 text-sm font-medium rounded-md cursor-pointer text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 transition-colors",activeClassName:"!bg-teal-600 !text-white !border-teal-600",previousClassName:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer transition-colors",nextClassName:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer transition-colors",breakClassName:"px-3 py-2 text-sm font-medium text-gray-500",disabledClassName:"opacity-50 cursor-not-allowed",renderOnZeroPageCount:null})]})}),S&&(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-[rgba(0,0,0,0.8)]",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl",children:[(0,t.jsx)("div",{className:"flex items-center mb-4",children:(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Block Broker"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["Are you sure you want to block ",(0,t.jsx)("span",{className:"font-semibold",children:U}),"? This will prevent them from accessing the platform."]}),(0,t.jsxs)("div",{className:"flex space-x-3 justify-center",children:[(0,t.jsx)("button",{onClick:()=>{T(!1),_(null),D("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),(0,t.jsx)("button",{onClick:Z,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Block Broker"})]})]})]})}),M&&(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-[rgba(0,0,0,0.8)]",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl",children:[(0,t.jsx)("div",{className:"flex items-center mb-4",children:(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 mx-auto bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unblock Broker"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["Are you sure you want to unblock ",(0,t.jsx)("span",{className:"font-semibold",children:U}),"? This will restore their access to the platform."]}),(0,t.jsxs)("div",{className:"flex space-x-3 justify-center",children:[(0,t.jsx)("button",{onClick:()=>{O(!1),_(null),D("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),(0,t.jsx)("button",{onClick:$,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Unblock Broker"})]})]})]})})]})})})}}]);