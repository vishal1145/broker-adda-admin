module.exports=[80353,a=>{"use strict";a.s(["default",()=>m]);var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(29908),f=a.i(89531),g=a.i(84391),h=a.i(12398),i=a.i(6704);let j=({className:a="",height:c="h-4",width:d="w-full",rounded:e=!1})=>(0,b.jsx)("div",{className:`bg-gray-200 animate-pulse ${c} ${d} ${e?"rounded-full":"rounded"} ${a}`}),k=()=>(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[(0,b.jsx)(j,{height:"h-4",width:"w-16"}),(0,b.jsx)(j,{height:"h-4",width:"w-20"}),(0,b.jsx)(j,{height:"h-4",width:"w-16"}),(0,b.jsx)(j,{height:"h-4",width:"w-24"}),(0,b.jsx)(j,{height:"h-4",width:"w-20"}),(0,b.jsx)(j,{height:"h-4",width:"w-16"})]})}),(0,b.jsx)("div",{className:"divide-y divide-gray-200",children:Array.from({length:5}).map((a,c)=>(0,b.jsx)("div",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-6 gap-4 items-center",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(j,{height:"h-10",width:"w-10",rounded:!0}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j,{height:"h-4",width:"w-24"}),(0,b.jsx)(j,{height:"h-3",width:"w-32"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(j,{height:"h-4",width:"w-4"}),(0,b.jsx)(j,{height:"h-4",width:"w-20"}),(0,b.jsx)(j,{height:"h-3",width:"w-3"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(j,{height:"h-4",width:"w-4"}),(0,b.jsx)(j,{height:"h-3",width:"w-28"}),(0,b.jsx)(j,{height:"h-3",width:"w-3"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j,{height:"h-4",width:"w-20"}),(0,b.jsx)(j,{height:"h-3",width:"w-24"})]}),(0,b.jsx)("div",{children:(0,b.jsx)(j,{height:"h-6",width:"w-16",rounded:!0})}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(j,{height:"h-4",width:"w-16"}),(0,b.jsx)(j,{height:"h-3",width:"w-20"})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)(j,{height:"h-7",width:"w-16",rounded:!0}),(0,b.jsx)(j,{height:"h-7",width:"w-16",rounded:!0})]})]})},c))})]}),l=()=>(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3  gap-4 mb-6",children:Array.from({length:3}).map((a,c)=>(0,b.jsx)("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j,{height:"h-4",width:"w-20"}),(0,b.jsx)(j,{height:"h-8",width:"w-12"})]}),(0,b.jsx)("div",{className:"bg-gray-100 rounded-lg p-3",children:(0,b.jsx)(j,{height:"h-6",width:"w-6"})})]})},c))});function m(){let[a,j]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)("all"),[u,v]=(0,c.useState)("all"),[w,x]=(0,c.useState)("all"),[y,z]=(0,c.useState)(1),[A,B]=(0,c.useState)(1),[C,D]=(0,c.useState)(0),[E,F]=(0,c.useState)({total:0,unblocked:0,blocked:0}),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)({name:"",email:"",phone:""}),U=(0,c.useCallback)(async()=>{try{n(!0),p(""),console.log("ðŸ”„ Fetching brokers with statusFilter:",s,"searchTerm:",q);let a="unblocked"===s?"unblocked":"blocked"===s?"blocked":void 0,b=await g.brokerAPI.getBrokers(y,10,a,q);console.log("ðŸ“Š API Response:",b),console.log("ðŸ“Š Brokers data:",b.data.brokers),b.data.brokers&&b.data.brokers.forEach((a,b)=>{console.log(`ðŸ“Š Broker ${b+1}:`,{_id:a._id,name:a.name,approvedByAdmin:a.approvedByAdmin,type:typeof a.approvedByAdmin})});let c=(b.data.brokers||[]).map((a,b)=>({...a,membership:a.membership||["basic","standard","premium"][b%3]}));j(c),B(b.data.pagination.totalPages||1),D(b.data.pagination.totalBrokers||0),b.data.stats&&F({total:b.data.stats.totalAllBrokers||0,unblocked:b.data.stats.totalUnblockedBrokers||0,blocked:b.data.stats.totalBlockedBrokers||0})}catch(a){p(a instanceof Error?a.message:"Failed to fetch brokers")}finally{n(!1)}},[y,s,q]),V=(a,b)=>{L(a),N(b),H(!0)},W=async()=>{if(K)try{p(""),console.log("ðŸ”´ Blocking broker with ID:",K);let a=await g.brokerAPI.blockBroker(K);console.log("ðŸ”´ Block API response:",a),j(a=>a.map(a=>a._id===K?{...a,approvedByAdmin:"blocked"}:a)),F(a=>({...a,unblocked:a.unblocked-1,blocked:a.blocked+1})),await U(),H(!1),L(null),N("")}catch(a){console.error("ðŸ”´ Block error:",a),p(a instanceof Error?a.message:"Failed to block broker")}},X=async()=>{if(K)try{p(""),console.log("ðŸŸ¢ Unblocking broker with ID:",K);let a=await g.brokerAPI.unblockBroker(K);console.log("ðŸŸ¢ Unblock API response:",a),j(a=>a.map(a=>a._id===K?{...a,approvedByAdmin:"unblocked"}:a)),F(a=>({...a,unblocked:a.unblocked+1,blocked:a.blocked-1})),await U(),J(!1),L(null),N("")}catch(a){console.error("ðŸŸ¢ Unblock error:",a),p(a instanceof Error?a.message:"Failed to unblock broker")}},Y=a.filter(a=>{let b="all"===u||a.membership&&a.membership.toLowerCase()===u.toLowerCase(),c="all"===w||a.region&&a.region.length>0&&a.region[0].name.toLowerCase().includes(w.toLowerCase());return b&&c});return(0,c.useEffect)(()=>{U()},[U]),(0,c.useEffect)(()=>{P(!0);let a=setTimeout(()=>{z(1),U(),P(!1)},500);return()=>{clearTimeout(a),P(!1)}},[q,s,u,w,U]),(0,b.jsx)(f.default,{children:(0,b.jsx)(e.default,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Brokers"}),(0,b.jsxs)("button",{onClick:()=>R(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-md text-white bg-teal-600 hover:bg-teal-700 text-sm shadow-sm",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Broker"]})]}),(0,b.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"View and manage all registered brokers"})]}),(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 mb-6",children:[(0,b.jsx)("div",{className:"flex-1 max-w-md",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:O?(0,b.jsx)("svg",{className:"h-5 w-5 text-gray-400 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):(0,b.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,b.jsx)("input",{type:"text",placeholder:"Search by Firm Name, Contact, Region",value:q,onChange:a=>r(a.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("select",{value:s,onChange:a=>t(a.target.value),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none pr-8",children:[(0,b.jsx)("option",{value:"all",children:"All Brokers"}),(0,b.jsx)("option",{value:"unblocked",children:"Unblocked"}),(0,b.jsx)("option",{value:"blocked",children:"Blocked"})]}),(0,b.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("select",{value:u,onChange:a=>v(a.target.value),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none pr-8",children:[(0,b.jsx)("option",{value:"all",children:"All Membership"}),(0,b.jsx)("option",{value:"premium",children:"Premium"}),(0,b.jsx)("option",{value:"standard",children:"Standard"}),(0,b.jsx)("option",{value:"basic",children:"Basic"})]}),(0,b.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("select",{value:w,onChange:a=>x(a.target.value),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none pr-8",children:[(0,b.jsx)("option",{value:"all",children:"All Regions"}),(0,b.jsx)("option",{value:"mumbai",children:"Mumbai"}),(0,b.jsx)("option",{value:"delhi",children:"Delhi"}),(0,b.jsx)("option",{value:"bangalore",children:"Bangalore"}),(0,b.jsx)("option",{value:"hyderabad",children:"Hyderabad"}),(0,b.jsx)("option",{value:"pune",children:"Pune"}),(0,b.jsx)("option",{value:"agra",children:"Agra"}),(0,b.jsx)("option",{value:"noida",children:"Noida"}),(0,b.jsx)("option",{value:"lucknow",children:"Lucknow"}),(0,b.jsx)("option",{value:"chennai",children:"Chennai"})]}),(0,b.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(q||"all"!==s||"all"!==u||"all"!==w)&&(0,b.jsxs)("button",{onClick:()=>{r(""),t("all"),v("all"),x("all")},className:"inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 hover:border-red-300 transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,b.jsx)("span",{children:"Clear Filters"})]})]})]}),o&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:o}),m?(0,b.jsx)(l,{}):(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[(0,b.jsx)("div",{className:"bg-teal-50 rounded-lg p-6 border border-teal-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-teal-600 text-sm font-medium",children:"Total Brokers"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-teal-700",children:E.total})]}),(0,b.jsx)("div",{className:"bg-teal-100 rounded-lg p-3",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),(0,b.jsx)("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-green-600 text-sm font-medium",children:"Unblocked"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-700",children:E.unblocked})]}),(0,b.jsx)("div",{className:"bg-green-100 rounded-lg p-3",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,b.jsx)("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-red-600 text-sm font-medium",children:"Blocked"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-red-600",children:E.blocked})]}),(0,b.jsx)("div",{className:"bg-red-100 rounded-lg p-3",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zM5 19L19 5"})})})]})})]}),Q&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>R(!1)}),(0,b.jsxs)("div",{className:"relative bg-white w-full max-w-lg mx-4 rounded-xl border border-gray-200 shadow-2xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Broker"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,b.jsx)("input",{value:S.name,onChange:a=>T({...S,name:a.target.value}),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,b.jsx)("input",{type:"email",value:S.email,onChange:a=>T({...S,email:a.target.value}),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter email"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700  mb-1",children:"Phone"}),(0,b.jsx)("input",{value:S.phone,onChange:a=>T({...S,phone:a.target.value}),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter phone"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-2",children:[(0,b.jsx)("button",{onClick:()=>R(!1),className:"px-5 py-2 rounded-md border bg-gray-200 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:async()=>{try{if(p(""),console.log("Creating broker:",S),!S.name.trim()||!S.email.trim()||!S.phone.trim()){p("Please fill in all fields"),i.toast.error("Please fill in all fields");return}let b=S.phone.replace(/\D/g,"");if(!/^\d{10}$/.test(b))return void i.toast.error("Phone must be exactly 10 digits");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S.email.trim()))return void i.toast.error("Please enter a valid email");if(a.some(a=>(a.phone||"").replace(/\D/g,"")===b))return void i.toast.error(`Phone already exists: ${S.phone}`);if(a.some(a=>(a.email||"").toLowerCase()===S.email.trim().toLowerCase()))return void i.toast.error(`Email already exists: ${S.email}`);let c=await g.brokerAPI.createBroker(S.name.trim(),S.email.trim(),S.phone.trim());console.log("Broker created successfully:",c),i.toast.success("Broker created successfully"),R(!1),T({name:"",email:"",phone:""}),await U()}catch(b){console.error("Error creating broker:",b);let a=b instanceof Error?b.message:"Failed to create broker";p(a),i.toast.error(a)}},className:"px-5 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Create"})]})]})]})]}),m?(0,b.jsx)(k,{}):(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:0===Y.length?(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No brokers found"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"grid grid-cols-6 gap-4 text-xs font-semibold text-gray-600 uppercase tracking-wide",children:[(0,b.jsx)("div",{children:"Name"}),(0,b.jsx)("div",{children:"Contact"}),(0,b.jsx)("div",{children:"Region"}),(0,b.jsx)("div",{children:"Membership"}),(0,b.jsx)("div",{children:"Numbers"}),(0,b.jsx)("div",{children:"Action"})]})}),(0,b.jsx)("div",{className:"divide-y divide-gray-200",children:Y.map((a,c)=>{let e=((a,b)=>{let c=[{leads:4,properties:2,membership:"Premium"},{leads:8,properties:5,membership:"Premium"},{leads:3,properties:7,membership:"Standard"},{leads:9,properties:1,membership:"Premium"},{leads:6,properties:4,membership:"Standard"},{leads:2,properties:8,membership:"Premium"},{leads:7,properties:3,membership:"Standard"}];return c[b%c.length]})(0,c);return(0,b.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:(0,b.jsxs)("div",{className:"grid grid-cols-6 gap-4 items-center",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.default,{href:`/brokers/${a.userId}`,className:"cursor-pointer",children:(0,b.jsx)("img",{className:"h-10 w-10 rounded-full object-cover hover:opacity-80 transition-opacity",src:(a=>{if(console.log("ðŸ–¼ï¸ getBrokerImageUrl called with:",a),!a)return console.log("ðŸ–¼ï¸ No broker image, using fallback"),"https://www.w3schools.com/howto/img_avatar.png";if(a.includes("broker-adda-be.algofolks.com")||a.includes("https://")||a.includes("http://")&&!a.includes("localhost")){let b=`/api/image-proxy?url=${encodeURIComponent(a)}`;return console.log("ðŸ–¼ï¸ Using proxy URL:",b),b}return console.log("ðŸ–¼ï¸ Using direct URL:",a),a})(a.brokerImage),alt:a.name||"Broker",onError:a=>{a.currentTarget.src="https://www.w3schools.com/howto/img_avatar.png"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(d.default,{href:`/brokers/${a.userId}`,className:"text-sm font-semibold text-gray-900 hover:text-teal-600 transition-colors cursor-pointer capitalize",children:a.name||"N/A"}),(0,b.jsx)("div",{className:"text-gray-500 text-xs capitalize",children:a.firmName||"N/A"})]})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-900",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-700 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:a.phone||"N/A"}),a.phone&&(0,b.jsx)("svg",{className:"w-3 h-3 text-teal-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-700 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,b.jsx)("span",{className:"text-gray-500 text-xs truncate",children:a.email||"N/A"}),a.email&&(0,b.jsx)("svg",{className:"w-3 h-3 text-teal-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})]}),(0,b.jsx)("div",{className:"text-sm text-gray-900",children:a.region&&a.region.length>0?(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-gray-900",children:a.region[0].name}),(0,b.jsxs)("div",{className:"text-gray-500 text-xs",children:[a.region[0].city,", ",a.region[0].state]})]}):"N/A"}),(0,b.jsx)("div",{children:(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"premium"===a.membership?"bg-teal-100 text-teal-800":"standard"===a.membership?"bg-blue-100 text-blue-800":(a.membership,"bg-gray-100 text-gray-800")}`,children:a.membership?a.membership.charAt(0).toUpperCase()+a.membership.slice(1):"N/A"})}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsxs)("div",{className:"capitalize text-gray-500",children:[e.leads," leads"]}),(0,b.jsxs)("div",{className:"text-gray-500 text-xs capitalize",children:[e.properties," properties"]})]}),(0,b.jsx)("div",{children:"unblocked"===a.approvedByAdmin?(0,b.jsxs)("button",{onClick:()=>V(a._id,a.name||"Broker"),className:"inline-flex items-center space-x-1 px-3 py-1.5 rounded text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors text-sm",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zM5 19L19 5"})}),(0,b.jsx)("span",{children:"Block"})]}):"blocked"===a.approvedByAdmin?(0,b.jsxs)("button",{onClick:()=>{var b,c;return b=a._id,c=a.name||"Broker",void(L(b),N(c),J(!0))},className:"inline-flex items-center space-x-1 px-3 py-1.5 rounded text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors text-sm",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{children:"Unblock"})]}):(0,b.jsxs)("button",{onClick:()=>V(a._id,a.name||"Broker"),className:"inline-flex items-center space-x-1 px-3 py-1.5 rounded text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors text-sm",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zM5 19L19 5"})}),(0,b.jsx)("span",{children:"Block"})]})})]})},a._id)})})]})}),C>0&&(0,b.jsx)("div",{className:"bg-white px-6 py-4 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center text-sm text-gray-700",children:(0,b.jsxs)("span",{children:["Showing ",(y-1)*10+1," to ",Math.min(10*y,C)," of ",C," results"]})}),(0,b.jsx)(h.default,{pageCount:A,pageRangeDisplayed:3,marginPagesDisplayed:1,onPageChange:({selected:a})=>z(a+1),forcePage:y-1,previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",containerClassName:"flex items-center space-x-1",pageClassName:"px-3 py-2 text-sm font-medium rounded-md cursor-pointer text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 transition-colors",activeClassName:"!bg-blue-600 !text-white !border-blue-600",previousClassName:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer transition-colors",nextClassName:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer transition-colors",breakClassName:"px-3 py-2 text-sm font-medium text-gray-500",disabledClassName:"opacity-50 cursor-not-allowed",renderOnZeroPageCount:null})]})}),G&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-[rgba(0,0,0,0.8)]",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl",children:[(0,b.jsx)("div",{className:"flex items-center mb-4",children:(0,b.jsx)("div",{className:"flex-shrink-0 w-10 h-10 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Block Broker"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["Are you sure you want to block ",(0,b.jsx)("span",{className:"font-semibold",children:M}),"? This will prevent them from accessing the platform."]}),(0,b.jsxs)("div",{className:"flex space-x-3 justify-center",children:[(0,b.jsx)("button",{onClick:()=>{H(!1),L(null),N("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),(0,b.jsx)("button",{onClick:W,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Block Broker"})]})]})]})}),I&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-[rgba(0,0,0,0.8)]",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl",children:[(0,b.jsx)("div",{className:"flex items-center mb-4",children:(0,b.jsx)("div",{className:"flex-shrink-0 w-10 h-10 mx-auto bg-green-100 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unblock Broker"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["Are you sure you want to unblock ",(0,b.jsx)("span",{className:"font-semibold",children:M}),"? This will restore their access to the platform."]}),(0,b.jsxs)("div",{className:"flex space-x-3 justify-center",children:[(0,b.jsx)("button",{onClick:()=>{J(!1),L(null),N("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),(0,b.jsx)("button",{onClick:X,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Unblock Broker"})]})]})]})})]})})})}}];

//# sourceMappingURL=src_app_brokers_page_tsx_daa4bd2f._.js.map